pre-push:
  parallel: true
  jobs:
    - name: Audit composer packages
      run: composer audit

    - name: Audit npm packages
      run: npm audit

    - name: Check backend code
      run: composer check

    - name: Check frontend code
      run: npm run check

pre-commit:
  parallel: true
  jobs:
    - name: Fix PHP files
      run: composer fix
      glob: "*.php"
      stage_fixed: true

    - name: Fix JS/TS files
      run: npm run fix
      glob: "*.{js,ts,jsx,tsx}"
      stage_fixed: true

    - name: Fix composer file
      run: composer normalize
      glob: "composer.json"
      stage_fixed: true
